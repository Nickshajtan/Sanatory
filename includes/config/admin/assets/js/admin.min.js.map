{"version":3,"sources":["admin.min.js"],"names":["jQuery","$","hcc_upload_params","ajaxurl","btn_upload","btn_title","btn_use","btn_remove","document","on","e","preventDefault","button","this","custom_uploader","wp","media","title","library","type","text","multiple","attachment","state","get","first","toJSON","removeClass","html","url","next","val","id","show","open","hide","prev","addClass"],"mappings":"AAAAA,QAAO,SAASC,GACKC,kBAAkBC,QAAnC,IACIC,EAAaF,kBAAkBE,WAC/BC,EAAaH,kBAAkBG,UAC/BC,EAAaJ,kBAAkBI,QAClBJ,kBAAkBK,WAKtCN,EAAEO,UAAUC,GAAG,QAAS,4BAA4B,SAASC,GAC5DA,EAAEC,iBAEE,IAAIC,EAASX,EAAEY,MACXC,EAAkBC,GAAGC,MAAM,CAClCC,MAAOZ,EACPa,QAAU,CAGTC,KAAO,SAERP,OAAQ,CACPQ,KAAMd,GAEPe,UAAU,IACRZ,GAAG,UAAU,WACf,IAAIa,EAAaR,EAAgBS,QAAQC,IAAI,aAAaC,QAAQC,SAClEzB,EAAEW,GAAQe,YAAY,UAAUC,KAAK,oCAAsCN,EAAWO,IAAM,6CAA6CC,OAAOC,IAAIT,EAAWU,IAAIF,OAAOG,UAY1KC,UAMFjC,EAAEO,UAAUC,GAAG,QAAS,4BAA4B,WAEnD,OADAR,EAAEY,MAAMsB,OAAOC,OAAOL,IAAI,IAAIK,OAAOC,SAAS,UAAUT,KAAKxB,IACtD,KAILH,EAAEO,UAAUC,GAAG,QAAS,2BAA2B,SAASC,GACxDA,EAAEC,iBACWV,EAAEY,MAAf,IACIC,EAAkBC,GAAGC,MAAM,CACvBC,MAAOZ,EAChBa,QAAU,CACGC,KAAO,SAEXP,OAAQ,CACJQ,KAAMd,GAEVe,UAAU,IACfZ,GAAG,UAAU,WACKK,EAAgBS,QAAQC,IAAI,aAAaC,QAAQC,YACnEQ,OACT,OAAO","file":"admin.min.js","sourcesContent":["jQuery(function($){\r\n    var ajaxurl    = hcc_upload_params.ajaxurl;\r\n    var btn_upload = hcc_upload_params.btn_upload;\r\n    var btn_title  = hcc_upload_params.btn_title;\r\n    var btn_use    = hcc_upload_params.btn_use;\r\n    var btn_remove = hcc_upload_params.btn_remove;\r\n    \r\n    /*\r\n\t * Select/Upload image(s) event\r\n\t */\r\n\t$(document).on('click', '.hcc_upload_image_button', function(e){\r\n\t\te.preventDefault();\r\n \r\n    \t\tvar button = $(this),\r\n    \t\t    custom_uploader = wp.media({\r\n\t\t\ttitle: btn_title,\r\n\t\t\tlibrary : {\r\n\t\t\t\t// uncomment the next line if you want to attach image to the current post\r\n\t\t\t\t// uploadedTo : wp.media.view.settings.post.id, \r\n\t\t\t\ttype : 'image'\r\n\t\t\t},\r\n\t\t\tbutton: {\r\n\t\t\t\ttext: btn_use  // button label text\r\n\t\t\t},\r\n\t\t\tmultiple: false // for multiple image selection set to true\r\n\t\t}).on('select', function() { // it also has \"open\" and \"close\" events \r\n\t\t\tvar attachment = custom_uploader.state().get('selection').first().toJSON();\r\n\t\t\t$(button).removeClass('button').html('<img class=\"true_pre_image\" src=\"' + attachment.url + '\" style=\"max-width:95%;display:block;\" />').next().val(attachment.id).next().show();\r\n\t\t\t/* if you sen multiple to true, here is some code for getting the image IDs\r\n\t\t\tvar attachments = frame.state().get('selection'),\r\n\t\t\t    attachment_ids = new Array(),\r\n\t\t\t    i = 0;\r\n\t\t\tattachments.each(function(attachment) {\r\n \t\t\t\tattachment_ids[i] = attachment['id'];\r\n\t\t\t\tconsole.log( attachment );\r\n\t\t\t\ti++;\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t})\r\n\t\t.open();\r\n\t});\r\n \r\n\t/*\r\n\t * Remove image event\r\n\t */\r\n\t$(document).on('click', '.hcc_remove_image_button', function(){\r\n\t\t$(this).hide().prev().val('').prev().addClass('button').html(btn_upload);\r\n\t\treturn false;\r\n\t});\r\n    \r\n    \r\n    $(document).on('click', '.hcc_upload_file_button', function(e){\r\n        e.preventDefault();\r\n        var button = $(this);\r\n        var custom_uploader = wp.media({\r\n                title: btn_title,\r\n\t\t\t    library : {\r\n                    type : 'image'\r\n                },\r\n                button: {\r\n                    text: btn_use\r\n                },\r\n                multiple: false\r\n        }).on('select', function(){\r\n            var attachment = custom_uploader.state().get('selection').first().toJSON();\r\n        }).open();\r\n\t\treturn false;    \r\n\t});\r\n    \r\n});"]}